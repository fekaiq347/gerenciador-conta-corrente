<!-- app/views/movimentacoes/deposito.html.erb -->

<div class="mb-4">
  <!-- 1. Título da página -->
  <h1 class="mb-3">Depósito</h1>

  <!-- 2. Link “Voltar ao Dashboard” -->
  <div class="mb-4">
    <%= link_to "Voltar ao Dashboard",
                dashboard_path,
                class: "btn btn-outline-primary" %>
  </div>

  <!-- 3. Mensagens de flash (notice/alert) -->
  <% if flash[:notice].present? %>
    <div class="alert alert-success">
      <%= flash[:notice] %>
    </div>
  <% end %>
  <% if flash[:alert].present? %>
    <div class="alert alert-danger">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <!-- 4. Card com o formulário de Depósito -->
  <div class="card shadow-sm">
    <div class="card-body">
      <%= form_with url: create_deposito_conta_path(@conta),
                    method: :post,
                    local: true,
                    data: { turbo: false } do |f| %>

        <!-- Campo Valor do Depósito -->
        <div class="mb-3">
          <%= f.label :valor_deposito, "Valor do Depósito (R$):", class: "form-label" %>
          <%= f.text_field :valor_deposito,
                           class: "form-control",
                           placeholder: "0,00",
                           pattern: "[0-9]+([.,][0-9]{2})?",
                           required: true %>
        </div>

        <!-- Botões “Confirmar” e “Cancelar”, lado a lado -->
        <div class="d-flex gap-2">
          <!-- Botão principal de confirmação -->
          <%= f.submit "Confirmar Depósito", class: "btn btn-primary" %>

          <!-- Botão secundário de cancelar -->
          <%= link_to "Cancelar",
                      dashboard_path,
                      class: "btn btn-secondary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>

